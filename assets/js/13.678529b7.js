(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{369:function(e,n,t){"use strict";t.r(n);var r=t(42),a=Object(r.a)({},(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"宿主环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#宿主环境"}},[e._v("#")]),e._v(" 宿主环境")]),e._v(" "),t("p",[e._v("云叩插件是运行在浏览器里的，所以你可以像开发普通Web程序一样来开发云叩插件。但云叩插件的代码是由宿主环境(销帮帮CRM)动态加载的，所以需要对代码进行小量的修改以适配宿主环境。"),t("br"),e._v("\n云叩的宿主环境有两种加载方式: "),t("code",[e._v("qiankun")]),e._v("和"),t("code",[e._v("universe")]),e._v("。")]),e._v(" "),t("h2",{attrs:{id:"qiankun"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#qiankun"}},[e._v("#")]),e._v(" qiankun")]),e._v(" "),t("p",[e._v("基于开源微前端框架"),t("a",{attrs:{href:"https://qiankun.umijs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("qiankun"),t("OutboundLink")],1),e._v("进行二次开发，由于"),t("code",[e._v("qiankun")]),e._v("的JS沙箱环境的实现以及"),t("code",[e._v("Shadow DOM")]),e._v("，对开发者的限制较大。其需要的生命周期已在"),t("RouterLink",{attrs:{to:"/guide/use_sdk.html"}},[e._v("SDK")]),e._v("层面进行暴露，无需开发者手动对外暴露生命周期。数据通信方式也已通过SDK进行抹平，开发者无需了解"),t("code",[e._v("qiankun")]),e._v("的底层实现。")],1),e._v(" "),t("h2",{attrs:{id:"universe"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#universe"}},[e._v("#")]),e._v(" universe")]),e._v(" "),t("p",[e._v("基于"),t("code",[e._v("iframe")]),e._v("的自研微前端框架，借助iframe的天然的隔离性可以极大的减小给开发者带来的阻碍。但因为"),t("code",[e._v("iframe")]),e._v("每次加载都是一次浏览器上下文的重新构建，所以有一定的性能问题。如果开发者很在意性能的话我们推荐使用"),t("code",[e._v("qiankun")]),e._v("的方式去开发插件。"),t("br"),e._v("\n由于"),t("code",[e._v("universe")]),e._v("插件的生命周期是基于dom的加载事件(onload)，所以在使用"),t("code",[e._v("universe")]),e._v("加载插件的时候切记"),t("strong",[e._v("在main.js中引入")]),e._v("。")])])}),[],!1,null,null,null);n.default=a.exports}}]);