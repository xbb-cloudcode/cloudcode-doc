(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{373:function(t,v,_){"use strict";_.r(v);var a=_(45),s=Object(a.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"api列表"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#api列表"}},[t._v("#")]),t._v(" API列表")]),t._v(" "),_("blockquote",[_("p",[t._v("默认容器中已经注入SDK，可直接通过sdk.xxx调用低代码的sdk。xbb.xxx可调用云叩的sdk")])]),t._v(" "),_("h2",{attrs:{id:"getvalue-fieldid"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#getvalue-fieldid"}},[t._v("#")]),t._v(" getValue(fieldId)")]),t._v(" "),_("blockquote",[_("p",[t._v("获取表单字段值")])]),t._v(" "),_("p",[_("strong",[t._v("参数")])]),t._v(" "),_("p",[t._v("fieldId 字段唯一id")]),t._v(" "),_("p",[_("strong",[t._v("返回值")])]),t._v(" "),_("p",[_("strong",[t._v("Promise value  字段值")])]),t._v(" "),_("p",[t._v("基本示例")]),t._v(" "),_("div",{staticClass:"language-js extra-class"},[_("pre",{pre:!0,attrs:{class:"language-js"}},[_("code",[_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token function"}},[t._v("exampleGetValue")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  sdk"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),_("span",{pre:!0,attrs:{class:"token function"}},[t._v("getValue")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text_1'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),_("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),_("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),_("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomeThings")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// res 数据格式：")]),t._v("\nres "),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  success"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Boolean")]),t._v("\n  value"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'value'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 字段的值")]),t._v("\n  error"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("      "),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 方法调用报错信息，未报错时为 null")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),_("ul",[_("li",[t._v("setValue(fieldId, value)")])]),t._v(" "),_("blockquote",[_("p",[t._v("设置表单字段值")])]),t._v(" "),_("p",[_("strong",[t._v("参数")])]),t._v(" "),_("p",[t._v("fieldId 字段唯一id")]),t._v(" "),_("p",[t._v("value 字段值")]),t._v(" "),_("p",[_("strong",[t._v("返回值")])]),t._v(" "),_("p",[_("strong",[t._v("Promise")])]),t._v(" "),_("h2",{attrs:{id:"setsubformvalue-params"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#setsubformvalue-params"}},[t._v("#")]),t._v(" setSubformValue(params)")]),t._v(" "),_("blockquote",[_("p",[t._v("设置子表单字段值")])]),t._v(" "),_("p",[_("strong",[t._v("参数")])]),t._v(" "),_("p",[t._v("Object params")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("属性")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("默认值")]),t._v(" "),_("th",[t._v("必填")]),t._v(" "),_("th",[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("formId")]),t._v(" "),_("td",[t._v("String")]),t._v(" "),_("td",[t._v("无")]),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("子表单id")])]),t._v(" "),_("tr",[_("td",[t._v("row")]),t._v(" "),_("td",[t._v("Number")]),t._v(" "),_("td",[t._v("无")]),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("设置第几条数据的值")])]),t._v(" "),_("tr",[_("td",[t._v("fieldId")]),t._v(" "),_("td",[t._v("String")]),t._v(" "),_("td",[t._v("无")]),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("子表单字段的唯一id")])]),t._v(" "),_("tr",[_("td",[t._v("value")]),t._v(" "),_("td",[t._v("Strig | Number")]),t._v(" "),_("td",[t._v("无")]),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("设置的值")])])])]),t._v(" "),_("p",[_("strong",[t._v("返回值")])]),t._v(" "),_("p",[_("strong",[t._v("Promise")])]),t._v(" "),_("h2",{attrs:{id:"getsubformvalue-params"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#getsubformvalue-params"}},[t._v("#")]),t._v(" getSubformValue(params)")]),t._v(" "),_("blockquote",[_("p",[t._v("获取子表单字段值")])]),t._v(" "),_("p",[_("strong",[t._v("参数")])]),t._v(" "),_("p",[t._v("Object params")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("属性")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("默认值")]),t._v(" "),_("th",[t._v("必填")]),t._v(" "),_("th",[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("formId")]),t._v(" "),_("td",[t._v("String")]),t._v(" "),_("td",[t._v("无")]),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("表单id")])]),t._v(" "),_("tr",[_("td",[t._v("row")]),t._v(" "),_("td",[t._v("Number")]),t._v(" "),_("td",[t._v("无")]),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("获取第几条数据的值")])]),t._v(" "),_("tr",[_("td",[t._v("fieldId")]),t._v(" "),_("td",[t._v("String")]),t._v(" "),_("td",[t._v("无")]),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("子表单字段的唯一id")])])])]),t._v(" "),_("p",[_("strong",[t._v("返回值")])]),t._v(" "),_("p",[_("strong",[t._v("Promise value 字段值")])]),t._v(" "),_("h2",{attrs:{id:"addsubformrow-formid"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#addsubformrow-formid"}},[t._v("#")]),t._v(" addSubformRow(formId)")]),t._v(" "),_("blockquote",[_("p",[t._v("新建一条子表单数据")])]),t._v(" "),_("p",[_("strong",[t._v("参数")])]),t._v(" "),_("p",[t._v("formId 子表单唯一id")]),t._v(" "),_("p",[_("strong",[t._v("返回值")])]),t._v(" "),_("p",[_("strong",[t._v("Promise")])]),t._v(" "),_("h2",{attrs:{id:"disablefield-fieldid"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#disablefield-fieldid"}},[t._v("#")]),t._v(" disableField(fieldId)")]),t._v(" "),_("blockquote",[_("p",[t._v("设置字段为不可编辑")])]),t._v(" "),_("p",[_("strong",[t._v("参数")])]),t._v(" "),_("p",[t._v("fieldId 字段唯一id")]),t._v(" "),_("p",[_("strong",[t._v("返回值")])]),t._v(" "),_("p",[_("strong",[t._v("Promise")])]),t._v(" "),_("h2",{attrs:{id:"enablefield-fieldid"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#enablefield-fieldid"}},[t._v("#")]),t._v(" enableField(fieldId)")]),t._v(" "),_("blockquote",[_("p",[t._v("设置字段为可编辑")])]),t._v(" "),_("p",[_("strong",[t._v("参数")])]),t._v(" "),_("p",[t._v("fieldId 字段唯一id")]),t._v(" "),_("p",[_("strong",[t._v("返回值")])]),t._v(" "),_("p",[_("strong",[t._v("Promise")])]),t._v(" "),_("h2",{attrs:{id:"showtoast-info"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#showtoast-info"}},[t._v("#")]),t._v(" showToast(info)")]),t._v(" "),_("blockquote",[_("p",[t._v("显示消息提示")])]),t._v(" "),_("p",[_("strong",[t._v("参数")])]),t._v(" "),_("p",[t._v("Object info")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("属性")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("默认值")]),t._v(" "),_("th",[t._v("必填")]),t._v(" "),_("th",[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("type")]),t._v(" "),_("td",[t._v("String")]),t._v(" "),_("td",[t._v("无")]),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("提示类型: success/warning/info/error")])]),t._v(" "),_("tr",[_("td",[t._v("content")]),t._v(" "),_("td",[t._v("String")]),t._v(" "),_("td",[t._v("无")]),t._v(" "),_("td",[t._v("否")]),t._v(" "),_("td",[t._v("消息内容")])]),t._v(" "),_("tr",[_("td",[t._v("time")]),t._v(" "),_("td",[t._v("Number")]),t._v(" "),_("td",[t._v("无")]),t._v(" "),_("td",[t._v("否")]),t._v(" "),_("td",[t._v("显示时长，单位为毫秒，最大值为3000")])])])]),t._v(" "),_("p",[_("strong",[t._v("返回值")])]),t._v(" "),_("p",[_("strong",[t._v("Promise")])]),t._v(" "),_("h1",{attrs:{id:"代码实践"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#代码实践"}},[t._v("#")]),t._v(" 代码实践")]),t._v(" "),_("h2",{attrs:{id:"解决问题"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#解决问题"}},[t._v("#")]),t._v(" 解决问题")]),t._v(" "),_("p",[t._v("在低代码之前，客户提出一个需求，实现斯里兰卡卢布根据实时汇率将金额转换成美元的需求。对于这个需求，销帮帮CRM是无法完成的，或者说是不会为某一个单一的客户去实现一个特殊的需求而影响到销帮帮CRM系统。\n但是在低代码实现之后，我们可以通过低代码为用户完成这个个性化的需求。")]),t._v(" "),_("h2",{attrs:{id:"表单设计"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#表单设计"}},[t._v("#")]),t._v(" 表单设计")]),t._v(" "),_("p",[t._v("低代主要是对表单字段和表单事件的操作，所以我们需要先设计一个表单，")]),t._v(" "),_("p",[_("img",{attrs:{src:"/images/lowcode_form.jpg",alt:"斯里兰卡卢布汇率转换表单"}})]),t._v(" "),_("p",[t._v("表单中，有斯里兰卡卢比的金额数字字段，币种选择的单选按钮字段，显示各币种汇率的子表单字段，最后有根据汇率转换出金额的汇率结算数字字段。")]),t._v(" "),_("h2",{attrs:{id:"代码实现"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#代码实现"}},[t._v("#")]),t._v(" 代码实现")]),t._v(" "),_("p",[t._v("表单设计完成后，我们就需要一步步的实现一个定制化的需求，以下我们一步步分析，最后实现该功能。")]),t._v(" "),_("h3",{attrs:{id:"汇率写入"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#汇率写入"}},[t._v("#")]),t._v(" 汇率写入")]),t._v(" "),_("p",[t._v("首先我们需要实时的获取斯里兰卡卢比转换个金额的汇率，并将汇率的值回写到子表单中")]),t._v(" "),_("p",[t._v("那么斯里兰卡卢比对各国的汇率是需要实时获取的，此时我们就需要后端的支持，我们可以写一段 mock 数据来模拟真实的后端请求。")]),t._v(" "),_("p",[_("img",{attrs:{src:"/images/lowcode_example_1.jpg",alt:"示例步骤—1"}})]),t._v(" "),_("p",[t._v("那么表单的效果就是在表单展示后，会将对应汇率的值写到子表单中")]),t._v(" "),_("h3",{attrs:{id:"计算汇率函数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#计算汇率函数"}},[t._v("#")]),t._v(" 计算汇率函数")]),t._v(" "),_("p",[t._v("表单展示后，低代码对应的汇率填写的事件函数就被被触发，接下来我们就需要获取需要计算的一些值，其中我们就需要回去用户填写的斯里兰卡卢比的金额数字，以及想要转换的币种")]),t._v(" "),_("p",[t._v("那么我们继续写下面的代码")]),t._v(" "),_("p",[_("img",{attrs:{src:"/images/lowcode_example_4.jpg",alt:"示例步骤—2"}})]),t._v(" "),_("h3",{attrs:{id:"实现效果"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#实现效果"}},[t._v("#")]),t._v(" 实现效果")]),t._v(" "),_("p",[t._v("上述的代码 我们完成低代码实时获取汇率，并根据斯里兰卡卢比动态计算目标金额的代码逻辑。\n那么接下来我们就算让这段代码生效，于表单设置低代码类似，我们选择字段并设置低代码生效的时机。汇率的计算是在用户填写了金额或者切换了转换的目标币种后进行计算的\n所以我们为这两个字段设置上述的低代码，以设置斯里兰卡卢比字段为例：")]),t._v(" "),_("p",[_("img",{attrs:{src:"/images/lowcode_example_3.jpg",alt:"示例步骤—3"}})]),t._v(" "),_("p",[t._v("由此我们完成本次定制化需求，斯里兰卡卢比的汇率转换。")]),t._v(" "),_("h3",{attrs:{id:"效果展示"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#效果展示"}},[t._v("#")]),t._v(" 效果展示")]),t._v(" "),_("p",[_("img",{attrs:{src:"/images/lowcode_example_5.gif",alt:"示例步骤—4"}})])])}),[],!1,null,null,null);v.default=s.exports}}]);